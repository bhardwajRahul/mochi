# Generated by Mochi Python compiler

import dataclasses
import typing

def main():
	@dataclasses.dataclass
	class Sensor:
		id: typing.Any
		temperature: typing.Any
	
	sensorStream = Stream("Sensor")
	def _handler_0(ev):
		s = ev
		print(s.id, s.temperature)
	sensorStream.register(_handler_0)
	sensorStream.append(Sensor(id="sensor-1", temperature=22.500000))

class Stream:
    def __init__(self, name):
        self.name = name
        self.handlers = []
    def append(self, data):
        for h in list(self.handlers):
            h(data)
        return data
    def register(self, handler):
        self.handlers.append(handler)
if __name__ == "__main__":
	main()
